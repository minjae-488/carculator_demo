# PRD: 공학용 전자계산기 웹 애플리케이션

## 1. 프로젝트 개요

### 1.1 프로젝트 명
**Carculator** - 현대적인 공학용 전자계산기 웹 애플리케이션

### 1.2 목적
사용자에게 직관적이고 아름다운 UI/UX를 제공하는 웹 기반 공학용 계산기를 개발하여, 기본 산술 연산부터 고급 공학 계산까지 원활하게 수행할 수 있도록 지원합니다.

### 1.3 목표
- 모바일 우선(Mobile-First) 반응형 디자인 구현
- 다크 모드 지원으로 다양한 환경에서 최적의 사용성 제공
- 표준 모드와 공학 모드 간 원활한 전환
- 계산 히스토리 관리 기능
- 직관적이고 부드러운 사용자 경험

### 1.4 타겟 사용자
- 학생 (중/고등학생, 대학생)
- 엔지니어 및 과학자
- 일상적인 계산이 필요한 일반 사용자
- 모바일 및 데스크톱 환경에서 계산기를 사용하는 모든 사용자

---

## 2. 기능 요구사항

### 2.1 핵심 기능 (MVP)

#### 2.1.1 표준 계산기 모드
**우선순위: P0 (필수)**

- **기본 산술 연산**
  - 덧셈 (+)
  - 뺄셈 (-)
  - 곱셈 (×)
  - 나눗셈 (÷)

- **추가 기능**
  - AC (All Clear): 모든 입력 및 결과 초기화
  - 백스페이스: 마지막 입력 문자 삭제
  - 퍼센트 계산 (%)
  - 부호 변경 (+/-)
  - 소수점 입력

- **디스플레이**
  - 현재 입력값 표시
  - 이전 계산식 표시 (메타텍스트)
  - 계산 결과 표시 (큰 폰트, 강조)
  - 천 단위 구분 기호 (1,234 형식)

#### 2.1.2 공학 계산기 모드
**우선순위: P1 (중요)**

- **삼각 함수**
  - sin, cos, tan
  - asin, acos, atan
  - 라디안/도 단위 전환

- **지수 및 로그 함수**
  - 제곱 (x²)
  - 세제곱 (x³)
  - 거듭제곱 (xʸ)
  - 제곱근 (√)
  - n제곱근 (ⁿ√)
  - 자연로그 (ln)
  - 상용로그 (log)
  - 지수 함수 (eˣ)

- **고급 연산**
  - 팩토리얼 (n!)
  - 절댓값 (|x|)
  - 파이 (π)
  - 오일러 수 (e)
  - 괄호 연산 ( )

#### 2.1.3 히스토리 기능
**우선순위: P1 (중요)**

- 최근 계산 기록 저장 (최대 50개)
- 히스토리 목록 표시
- 히스토리 항목 클릭 시 재사용
- 히스토리 전체 삭제
- 로컬 스토리지를 통한 영구 저장

#### 2.1.4 UI/UX 기능
**우선순위: P0 (필수)**

- **다크 모드 / 라이트 모드**
  - 시스템 설정 자동 감지
  - 수동 전환 가능
  - 설정 저장 (로컬 스토리지)

- **반응형 디자인**
  - 모바일 (320px ~ 480px)
  - 태블릿 (481px ~ 768px)
  - 데스크톱 (769px 이상)

- **애니메이션 및 인터랙션**
  - 버튼 호버 효과
  - 버튼 클릭 시 스케일 애니메이션
  - 부드러운 모드 전환 애니메이션
  - 결과 표시 시 페이드인 효과

### 2.2 추가 기능 (향후 개발)

#### 2.2.1 고급 기능
**우선순위: P2 (선택)**

- 단위 변환기
- 통계 계산 (평균, 표준편차 등)
- 행렬 계산
- 복소수 계산
- 프로그래머 모드 (진법 변환)

#### 2.2.2 사용자 경험 개선
**우선순위: P2 (선택)**

- 키보드 입력 지원
- 음성 입력
- 계산 결과 복사 기능
- 계산식 공유 기능
- 다국어 지원 (한국어, 영어)

---

## 3. 디자인 요구사항

### 3.1 디자인 시스템

#### 3.1.1 컬러 팔레트

**라이트 모드**
- Primary: `#137fec` (파란색)
- Background: `#f6f7f8` (밝은 회색)
- Text Primary: `#0f172a` (slate-900)
- Text Secondary: `#64748b` (slate-500)
- Button Background: `#ffffff` (흰색)
- Function Button: `#e2e8f0` (slate-200)

**다크 모드**
- Primary: `#137fec` (파란색)
- Background: `#101922` (어두운 청회색)
- Text Primary: `#ffffff` (흰색)
- Text Secondary: `#9dabb9` (밝은 회색)
- Button Background: `#1E2933` (어두운 회색)
- Function Button: `#2C3B49` (중간 회색)
- Accent: `#22d3ee` (cyan-400)

#### 3.1.2 타이포그래피

- **폰트 패밀리**: Space Grotesk (Google Fonts)
- **헤더 (결과 표시)**: 64px, Bold, Letter-spacing: tight
- **메타텍스트 (계산식)**: 18px, Normal, Letter-spacing: wide
- **버튼 텍스트**: 24px, Medium/Bold

#### 3.1.3 간격 및 레이아웃

- **컨테이너 최대 너비**: 480px
- **버튼 간격**: 12px (gap-3)
- **패딩**: 16px (p-4)
- **버튼 크기**: Aspect ratio 1:1 (정사각형)
- **Border Radius**: 
  - 버튼: 16px (rounded-2xl)
  - 아이콘 버튼: 9999px (rounded-full)

#### 3.1.4 아이콘

- **아이콘 세트**: Material Symbols Outlined
- **사용 아이콘**:
  - `science`: 공학 모드 전환
  - `history`: 히스토리
  - `backspace`: 백스페이스
  - `exposure`: 부호 변경
  - `percent`: 퍼센트
  - `close`: 곱셈
  - `remove`: 뺄셈
  - `add`: 덧셈
  - `equal`: 등호

### 3.2 레이아웃 구조

```
┌─────────────────────────────────┐
│  Header (TopAppBar)             │
│  [Standard] [Science] [History] │
├─────────────────────────────────┤
│                                 │
│  Display Area                   │
│  - 이전 계산식 (작은 텍스트)    │
│  - 현재 결과 (큰 텍스트)        │
│                                 │
├─────────────────────────────────┤
│  Toolbar                        │
│  ─────────────────── [⌫]        │
├─────────────────────────────────┤
│  Keypad (4x5 Grid)              │
│  ┌────┬────┬────┬────┐          │
│  │ AC │ +/-│  % │  ÷ │          │
│  ├────┼────┼────┼────┤          │
│  │  7 │  8 │  9 │  × │          │
│  ├────┼────┼────┼────┤          │
│  │  4 │  5 │  6 │  - │          │
│  ├────┼────┼────┼────┤          │
│  │  1 │  2 │  3 │  + │          │
│  ├────┴────┼────┼────┤          │
│  │    0    │  . │  = │          │
│  └─────────┴────┴────┘          │
└─────────────────────────────────┘
```

### 3.3 인터랙션 디자인

#### 3.3.1 버튼 상태

- **기본 상태**: 배경색, 그림자
- **호버 상태**: 밝기 증가 (brightness-110/125)
- **액티브 상태**: 스케일 축소 (scale-95)
- **포커스 상태**: 아웃라인 표시

#### 3.3.2 전환 효과

- **모든 전환**: `transition-all` (200ms)
- **색상 전환**: `transition-colors`
- **버튼 애니메이션**: 스케일 + 밝기

---

## 4. 기술 요구사항

### 4.1 프론트엔드 기술 스택

#### 4.1.1 필수 기술
- **HTML5**: 시맨틱 마크업
- **CSS3**: 
  - Tailwind CSS (v3.x)
  - Custom CSS (필요시)
- **JavaScript (ES6+)**:
  - Vanilla JS (프레임워크 없음)
  - 모듈화된 코드 구조

#### 4.1.2 외부 라이브러리
- **Google Fonts**: Space Grotesk
- **Material Symbols**: 아이콘
- **Tailwind CSS CDN**: 스타일링

### 4.2 브라우저 호환성

- **최신 버전 지원**:
  - Chrome (v100+)
  - Firefox (v100+)
  - Safari (v15+)
  - Edge (v100+)

- **모바일 브라우저**:
  - iOS Safari (v15+)
  - Chrome Mobile (v100+)
  - Samsung Internet (v15+)

### 4.3 성능 요구사항

- **초기 로딩 시간**: < 2초
- **버튼 반응 시간**: < 100ms
- **계산 처리 시간**: < 50ms
- **애니메이션 프레임률**: 60fps

### 4.4 데이터 저장

- **로컬 스토리지**:
  - 계산 히스토리 (최대 50개)
  - 다크 모드 설정
  - 각도 단위 설정 (라디안/도)

---

## 5. 사용자 시나리오

### 5.1 기본 계산 시나리오

**시나리오**: 사용자가 1,234 + 56을 계산

1. 사용자가 계산기 앱을 연다
2. "1", "2", "3", "4" 버튼을 순서대로 클릭
3. 디스플레이에 "1,234" 표시
4. "+" 버튼 클릭
5. "5", "6" 버튼 클릭
6. 디스플레이 상단에 "1,234 + 56" 표시
7. "=" 버튼 클릭
8. 결과 "1,290" 표시
9. 계산 기록이 히스토리에 저장됨

### 5.2 공학 계산 시나리오

**시나리오**: 사용자가 sin(45°)를 계산

1. 사용자가 공학 모드 버튼 (science 아이콘) 클릭
2. 키패드가 공학 함수 버튼으로 확장
3. "4", "5" 버튼 클릭
4. "sin" 버튼 클릭
5. "=" 버튼 클릭
6. 결과 "0.7071..." 표시

### 5.3 히스토리 사용 시나리오

**시나리오**: 사용자가 이전 계산을 재사용

1. 사용자가 히스토리 버튼 클릭
2. 히스토리 패널이 슬라이드인
3. 이전 계산 목록 표시
4. 원하는 계산식 클릭
5. 해당 계산식이 디스플레이에 로드
6. 사용자가 수정하거나 재계산 가능

### 5.4 다크 모드 전환 시나리오

**시나리오**: 사용자가 다크 모드로 전환

1. 앱이 시스템 설정에 따라 자동으로 다크/라이트 모드 적용
2. 또는 사용자가 설정 버튼에서 수동 전환
3. 부드러운 애니메이션과 함께 색상 테마 변경
4. 설정이 로컬 스토리지에 저장

---

## 6. 비기능 요구사항

### 6.1 사용성 (Usability)

- 직관적인 UI로 별도의 학습 없이 사용 가능
- 버튼 크기는 터치하기 충분한 크기 (최소 44x44px)
- 명확한 시각적 피드백 제공
- 오류 메시지는 명확하고 이해하기 쉬워야 함

### 6.2 접근성 (Accessibility)

- WCAG 2.1 AA 수준 준수
- 키보드 네비게이션 지원
- 스크린 리더 호환성
- 충분한 색상 대비 (최소 4.5:1)
- 포커스 인디케이터 명확히 표시

### 6.3 보안 (Security)

- XSS 공격 방지
- 안전한 입력 검증
- 로컬 스토리지 데이터 검증

### 6.4 유지보수성 (Maintainability)

- 모듈화된 코드 구조
- 명확한 주석 및 문서화
- 일관된 코딩 스타일
- 재사용 가능한 컴포넌트

### 6.5 확장성 (Scalability)

- 새로운 기능 추가 용이
- 다국어 지원 가능한 구조
- 테마 확장 가능

---

## 7. 제약사항 및 가정

### 7.1 제약사항

- 오프라인 모드는 지원하지 않음 (CDN 의존)
- 복잡한 수식 편집 기능 미제공 (MVP)
- 그래프 기능 미제공 (MVP)

### 7.2 가정

- 사용자는 인터넷 연결이 가능한 환경
- 사용자는 최신 브라우저 사용
- 사용자는 기본적인 계산기 사용법 숙지

---

## 8. 성공 지표 (KPI)

### 8.1 정량적 지표

- **사용자 만족도**: 4.5/5.0 이상
- **페이지 로딩 시간**: 2초 이내
- **오류율**: 1% 미만
- **모바일 사용률**: 전체 사용의 60% 이상

### 8.2 정성적 지표

- 사용자 피드백 긍정률
- UI/UX 디자인 만족도
- 기능 완성도

---

## 9. 개발 일정

### 9.1 Phase 1: MVP (2주)

**Week 1**
- Day 1-2: 프로젝트 설정 및 기본 UI 구조
- Day 3-4: 표준 계산기 로직 구현
- Day 5-7: 디스플레이 및 키패드 UI 완성

**Week 2**
- Day 1-2: 다크 모드 구현
- Day 3-4: 히스토리 기능 구현
- Day 5-6: 버그 수정 및 테스트
- Day 7: 배포 및 문서화

### 9.2 Phase 2: 공학 모드 (1주)

- Day 1-2: 공학 함수 로직 구현
- Day 3-4: 공학 모드 UI 확장
- Day 5-7: 테스트 및 최적화

### 9.3 Phase 3: 고급 기능 (추후 결정)

- 단위 변환기
- 통계 계산
- 키보드 입력 지원

---

## 10. 위험 요소 및 대응 방안

### 10.1 기술적 위험

| 위험 요소 | 영향도 | 확률 | 대응 방안 |
|----------|--------|------|----------|
| 부동소수점 연산 오류 | 높음 | 중간 | 정밀도 라이브러리 사용 고려 |
| 브라우저 호환성 문제 | 중간 | 낮음 | Polyfill 사용, 크로스 브라우저 테스트 |
| 성능 저하 | 중간 | 낮음 | 코드 최적화, 디바운싱 적용 |

### 10.2 일정 위험

| 위험 요소 | 영향도 | 확률 | 대응 방안 |
|----------|--------|------|----------|
| 기능 범위 증가 | 높음 | 중간 | MVP 범위 엄격히 관리 |
| 예상치 못한 버그 | 중간 | 높음 | 충분한 테스트 시간 확보 |

---

## 11. 참고 자료

### 11.1 디자인 레퍼런스

- 제공된 디자인 파일: `stitch_.zip`
  - `screen.png`: UI 스크린샷
  - `code.html`: HTML/CSS 구현 샘플

### 11.2 기술 문서

- [Tailwind CSS Documentation](https://tailwindcss.com/docs)
- [Material Symbols Guide](https://fonts.google.com/icons)
- [MDN Web Docs - JavaScript](https://developer.mozilla.org/en-US/docs/Web/JavaScript)

### 11.3 유사 제품

- iOS 계산기
- Google 계산기
- Desmos 계산기

---

## 12. 부록

### 12.1 용어 정의

- **MVP**: Minimum Viable Product (최소 기능 제품)
- **P0/P1/P2**: 우선순위 레벨 (P0: 필수, P1: 중요, P2: 선택)
- **CDN**: Content Delivery Network
- **XSS**: Cross-Site Scripting

### 12.2 변경 이력

| 버전 | 날짜 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0 | 2025-12-23 | Antigravity | 초안 작성 |

---

## 13. 승인

| 역할 | 이름 | 서명 | 날짜 |
|------|------|------|------|
| 제품 책임자 | | | |
| 개발 리드 | | | |
| 디자인 리드 | | | |

---

**문서 종료**
